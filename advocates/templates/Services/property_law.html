{% extends 'services-base.html' %}
{% load static %}

{% block title %}Property & Real Estate Law | {{ block.super }}{% endblock %}

<<<<<<< HEAD
=======
{% block meta %}
  <meta name="description" content="Legal guidance for property transactions, real estate contracts, land disputes and title transfers in Kenya.">
  <meta name="keywords" content="property law Kenya, land disputes, real estate lawyer, Muguna Oyile Advocates, title transfer">
  <meta property="og:title" content="Property & Real Estate Law | Muguna & Oyile Advocates">
  <meta property="og:description" content="Our property law team handles all aspects of real estate and land law, from due diligence to dispute resolution.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.mugunaoyile.co.ke/services/property-law/">
  <meta property="og:image" content="{% static 'images/og-property.jpg' %}">
{% endblock %}

>>>>>>> aec289d (SEO start)
{% block content %}
<section class="container">
  <div class="section-header centered-header">
    <h1>Property & Real Estate</h1>
    <p class="header-subtitle">Comprehensive legal services for all property transactions and disputes</p>
  </div>
</section>

<main class="container">
  <div class="service-intro">
<<<<<<< HEAD
    <p>Our property practice provides expert guidance through all aspects of real estate transactions and land matters.</p>
=======
    <p>Our property practice provides expert guidance through all aspects of real estate transactions and land matters, including transfers, leases, due diligence, and disputes.</p>
>>>>>>> aec289d (SEO start)
  </div>

  <div class="services-container">
    <div class="services-list">
      {% for service in services %}
      <div class="service-card {% if forloop.first %}active{% endif %}" data-service="{{ service.slug }}">
        <div class="service-card-header">
          <div class="service-icon">
            <i class="{{ service.icon }}"></i>
          </div>
          <h3 class="service-title">{{ service.title }}</h3>
          <i class="fas fa-chevron-down toggle-arrow"></i>
        </div>
        <div class="mobile-service-detail">
          <p>{{ service.summary }}</p>
          <div class="mobile-service-features">
            <ul>
<<<<<<< HEAD
              {% for item in service.details %}
              <li>{{ item }}</li>
=======
              {% for item in service.details.all %}
              <li>{{ item.detail_text }}</li>
>>>>>>> aec289d (SEO start)
              {% endfor %}
            </ul>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>

    <div class="service-detail-container">
      {% for service in services %}
      <div class="service-detail {% if forloop.first %}active{% endif %}" id="{{ service.slug }}-detail">
        <h3>{{ service.title }}</h3>
        <p>{{ service.summary }}</p>
        <div class="service-features">
          <ul>
<<<<<<< HEAD
            {% for item in service.details %}
            <li>{{ item }}</li>
=======
            {% for item in service.details.all %}
            <li>{{ item.detail_text }}</li>
>>>>>>> aec289d (SEO start)
            {% endfor %}
          </ul>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</main>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function () {
<<<<<<< HEAD
    const serviceCards = document.querySelectorAll('.service-card');
    const details = document.querySelectorAll('.service-detail');
    let currentView = window.innerWidth > 992 ? 'desktop' : 'mobile';

    function closeAllMobileCards() {
        serviceCards.forEach(card => {
            card.classList.remove('active');
            const content = card.querySelector('.mobile-service-detail');
            if (content) {
                content.style.maxHeight = null;
                content.style.padding = '0';
            }
        });
    }

    function openMobileCard(card) {
        card.classList.add('active');
        const content = card.querySelector('.mobile-service-detail');
        if (content) {
            content.style.maxHeight = content.scrollHeight + 'px';
            content.style.padding = '20px 15px';
            setTimeout(() => {
                card.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }, 300);
        }
    }

    function activateDesktopCard(serviceId) {
        serviceCards.forEach(card => card.classList.remove('active'));
        details.forEach(detail => detail.classList.remove('active'));

        const card = document.querySelector(`.service-card[data-service="${serviceId}"]`);
        const detail = document.getElementById(`${serviceId}-detail`);

        if (card && detail) {
            card.classList.add('active');
            detail.classList.add('active');
        }
    }

    serviceCards.forEach(card => {
        card.addEventListener('click', function () {
            const serviceId = this.dataset.service;

            if (currentView === 'desktop') {
                activateDesktopCard(serviceId);
            } else {
                const isActive = this.classList.contains('active');
                closeAllMobileCards();
                if (!isActive) openMobileCard(this);
            }
        });
    });

    window.addEventListener('resize', function () {
        const newView = window.innerWidth > 992 ? 'desktop' : 'mobile';
        if (newView !== currentView) {
            currentView = newView;
            if (newView === 'desktop') {
                closeAllMobileCards();
                const firstService = serviceCards[0]?.dataset.service;
                if (firstService) activateDesktopCard(firstService);
            } else {
                details.forEach(d => d.classList.remove('active'));
                closeAllMobileCards();
            }
        }
    });

    if (currentView === 'desktop' && serviceCards.length > 0) {
        const firstService = serviceCards[0].dataset.service;
        activateDesktopCard(firstService);
    }
=======
  const serviceCards = document.querySelectorAll('.service-card');
  const details = document.querySelectorAll('.service-detail');
  let currentView = window.innerWidth > 992 ? 'desktop' : 'mobile';

  function closeAllMobileCards() {
    serviceCards.forEach(card => {
      card.classList.remove('active');
      const content = card.querySelector('.mobile-service-detail');
      if (content) {
        content.style.maxHeight = null;
        content.style.padding = '0';
      }
    });
  }

  function openMobileCard(card) {
    card.classList.add('active');
    const content = card.querySelector('.mobile-service-detail');
    if (content) {
      content.style.maxHeight = content.scrollHeight + 'px';
      content.style.padding = '20px 15px';
      setTimeout(() => {
        card.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
      }, 300);
    }
  }

  function activateDesktopCard(serviceId) {
    serviceCards.forEach(card => card.classList.remove('active'));
    details.forEach(detail => detail.classList.remove('active'));

    const card = document.querySelector(`.service-card[data-service="${serviceId}"]`);
    const detail = document.getElementById(`${serviceId}-detail`);

    if (card && detail) {
      card.classList.add('active');
      detail.classList.add('active');
    }
  }

  serviceCards.forEach(card => {
    card.addEventListener('click', function () {
      const serviceId = this.dataset.service;

      if (currentView === 'desktop') {
        activateDesktopCard(serviceId);
      } else {
        const isActive = this.classList.contains('active');
        closeAllMobileCards();
        if (!isActive) openMobileCard(this);
      }
    });
  });

  window.addEventListener('resize', function () {
    const newView = window.innerWidth > 992 ? 'desktop' : 'mobile';
    if (newView !== currentView) {
      currentView = newView;
      if (newView === 'desktop') {
        closeAllMobileCards();
        const firstService = serviceCards[0]?.dataset.service;
        if (firstService) activateDesktopCard(firstService);
      } else {
        details.forEach(d => d.classList.remove('active'));
        closeAllMobileCards();
      }
    }
  });

  if (currentView === 'desktop' && serviceCards.length > 0) {
    const firstService = serviceCards[0].dataset.service;
    activateDesktopCard(firstService);
  }
>>>>>>> aec289d (SEO start)
});
</script>
{% endblock %}

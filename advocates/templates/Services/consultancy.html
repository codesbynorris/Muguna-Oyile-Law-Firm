{% extends 'services_base.html' %}
{% load static %}

{% block title %}Consultancy Services | {{ block.super }}{% endblock %}

{% block content %}
    <section class="container">
        <div class="section-header centered-header">
            <h1>Consultancy Services</h1>
            <p class="header-subtitle">Expert advisory solutions across specialized legal domains</p>
        </div>
    </section>

    <main class="container">
        <div class="service-intro">
            <p>Our consultancy services provide targeted legal guidance to help clients navigate complex regulatory environments and protect their rights.</p>
        </div>

        <div class="services-container">
            <div class="services-list">
                <div class="service-card" data-service="tax">
                    <div class="service-card-header">
                        <div class="service-icon">
                            <i class="fas fa-file-invoice-dollar"></i>
                        </div>
                        <h3 class="service-title">Tax Advisory</h3>
                        <i class="fas fa-chevron-down toggle-arrow"></i>
                    </div>
                    <div class="mobile-service-detail">
                        <p>Comprehensive tax consultancy and representation services to ensure compliance and optimize your tax position.</p>
                        <div class="mobile-service-features">
                            <ul>
                                <li>Tax planning and compliance advisory</li>
                                <li>Representation before tax authorities</li>
                                <li>Tax dispute resolution</li>
                                <li>Transfer pricing documentation</li>
                                <li>Tax due diligence for transactions</li>
                                <li>Customs and excise duty advisory</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="service-card" data-service="data">
                    <div class="service-card-header">
                        <div class="service-icon">
                            <i class="fas fa-database"></i>
                        </div>
                        <h3 class="service-title">Data Protection</h3>
                        <i class="fas fa-chevron-down toggle-arrow"></i>
                    </div>
                    <div class="mobile-service-detail">
                        <p>Guidance on data privacy laws and implementation of robust data protection frameworks.</p>
                        <div class="mobile-service-features">
                            <ul>
                                <li>Data protection compliance audits</li>
                                <li>Privacy policy drafting</li>
                                <li>Data processing agreements</li>
                                <li>Data breach response planning</li>
                                <li>Employee training programs</li>
                                <li>Representation before data commissioner</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="service-card" data-service="immigration">
                    <div class="service-card-header">
                        <div class="service-icon">
                            <i class="fas fa-passport"></i>
                        </div>
                        <h3 class="service-title">Immigration</h3>
                        <i class="fas fa-chevron-down toggle-arrow"></i>
                    </div>
                    <div class="mobile-service-detail">
                        <p>End-to-end support for work permits, visas, and citizenship matters.</p>
                        <div class="mobile-service-features">
                            <ul>
                                <li>Work permit applications</li>
                                <li>Dependent pass processing</li>
                                <li>Citizenship and naturalization</li>
                                <li>Immigration appeals</li>
                                <li>Employer compliance advisory</li>
                                <li>Expatriate tax planning</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="service-card" data-service="ip">
                    <div class="service-card-header">
                        <div class="service-icon">
                            <i class="fas fa-copyright"></i>
                        </div>
                        <h3 class="service-title">Intellectual Property</h3>
                        <i class="fas fa-chevron-down toggle-arrow"></i>
                    </div>
                    <div class="mobile-service-detail">
                        <p>Protection and enforcement of intellectual property rights.</p>
                        <div class="mobile-service-features">
                            <ul>
                                <li>Trademark registration</li>
                                <li>Patent filing and prosecution</li>
                                <li>Copyright protection</li>
                                <li>Industrial design registration</li>
                                <li>IP licensing agreements</li>
                                <li>Anti-counterfeiting measures</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="service-detail-container">
                <div class="service-detail" id="tax-detail">
                    <h3>Tax Advisory Services</h3>
                    <p>Comprehensive tax consultancy and representation services to ensure compliance and optimize your tax position.</p>
                    
                    <div class="service-features">
                        <ul>
                            <li>Tax planning and compliance advisory</li>
                            <li>Representation before tax authorities</li>
                            <li>Tax dispute resolution</li>
                            <li>Transfer pricing documentation</li>
                            <li>Tax due diligence for transactions</li>
                            <li>Customs and excise duty advisory</li>
                        </ul>
                    </div>
                </div>
                
                <div class="service-detail" id="data-detail">
                    <h3>Data Protection Compliance</h3>
                    <p>Guidance on data privacy laws and implementation of robust data protection frameworks.</p>
                    
                    <div class="service-features">
                        <ul>
                            <li>Data protection compliance audits</li>
                            <li>Privacy policy drafting</li>
                            <li>Data processing agreements</li>
                            <li>Data breach response planning</li>
                            <li>Employee training programs</li>
                            <li>Representation before data commissioner</li>
                        </ul>
                    </div>
                </div>
                
                <div class="service-detail" id="immigration-detail">
                    <h3>Immigration Services</h3>
                    <p>End-to-end support for work permits, visas, and citizenship matters.</p>
                    
                    <div class="service-features">
                        <ul>
                            <li>Work permit applications</li>
                            <li>Dependent pass processing</li>
                            <li>Citizenship and naturalization</li>
                            <li>Immigration appeals</li>
                            <li>Employer compliance advisory</li>
                            <li>Expatriate tax planning</li>
                        </ul>
                    </div>
                </div>
                
                <div class="service-detail" id="ip-detail">
                    <h3>Intellectual Property</h3>
                    <p>Protection and enforcement of intellectual property rights.</p>
                    
                    <div class="service-features">
                        <ul>
                            <li>Trademark registration</li>
                            <li>Patent filing and prosecution</li>
                            <li>Copyright protection</li>
                            <li>Industrial design registration</li>
                            <li>IP licensing agreements</li>
                            <li>Anti-counterfeiting measures</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </main>

{% endblock %}

{% block extra_js %}
<script>

document.addEventListener('DOMContentLoaded', function () {
    const serviceCards = document.querySelectorAll('.service-card');

    function closeAllMobileCards() {
        serviceCards.forEach(card => {
            card.classList.remove('active');
            const content = card.querySelector('.mobile-service-detail');
            if (content) {
                content.style.maxHeight = null;
                content.style.padding = '0';
            }
        });
    }

    function openMobileCard(card) {
        card.classList.add('active');
        const content = card.querySelector('.mobile-service-detail');
        if (content) {
            content.style.maxHeight = content.scrollHeight + 'px';
            content.style.padding = '20px 15px';
            setTimeout(() => {
                card.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }, 300);
        }
    }

    // Desktop initial state
    if (window.innerWidth > 992) {
        document.querySelector('.service-card').classList.add('active');
        document.getElementById('tax-detail').classList.add('active');
    }

    serviceCards.forEach(card => {
        card.addEventListener('click', function () {
            const serviceId = this.getAttribute('data-service');

            if (window.innerWidth > 992) {
                // === Desktop behavior ===
                document.querySelectorAll('.service-detail').forEach(d => d.classList.remove('active'));
                document.querySelectorAll('.service-card').forEach(c => c.classList.remove('active'));

                this.classList.add('active');
                document.getElementById(`${serviceId}-detail`).classList.add('active');
            } else {
                // === Mobile accordion ===
                const isActive = this.classList.contains('active');

                closeAllMobileCards();
                if (!isActive) {
                    openMobileCard(this);
                }
            }
        });
    });

    // Reset mobile content when switching to desktop
    window.addEventListener('resize', function () {
        if (window.innerWidth > 992) {
            closeAllMobileCards();
            document.querySelectorAll('.service-detail').forEach(d => d.classList.remove('active'));

            const firstCard = document.querySelector('.service-card');
            firstCard.classList.add('active');
            document.getElementById('tax-detail').classList.add('active');
        }
    });
});

</script>
{% endblock %}